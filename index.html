<body style="padding:100px;">
  <button id="eventBtn">이벤트</button>
  <button id="eventBtn1">이벤트 on 게시판 1</button>
  <button id="eventListBtn">게시판 목록</button>
</body>

<script src="socket.io.js"></script>
<script>
  var socket = io('http://localhost:3000');
  var id = Math.random();
  var channelId = Math.random();
  

  eventBtn.addEventListener('click', function () {
    socket.emit('_event', {
      _id: id,
      _from: channelId,
      _name: 'POST/LOGIN',
      _body: {
        _channelId: channelId,
        _name: '브루스'
      }
    });
  });

  eventBtn1.addEventListener('click', function () {
    socket.emit('_event', {
      _id: id,
      _from: channelId,
      _to: 1,
      _name: 'POST/POST',
      _body: {
        title: '포스트 제목',
        text: '포스트 내용'
      }
    });
  })

  eventListBtn.addEventListener('click', function () {
    socket.emit('_event', {
      _id: id,
      _from: channelId,
      _to: 1,
      _name: 'GET/BOARD/LIST'
    });
  })



  // 나에게 
  socket.on(channelId, function (_event) {
    console.log('_event', _event)
  });
  
  // 게시판 1
  socket.on(1, function (_event) {
    console.log('게시판 1: ', _event)
  });

  // 게시판 목록요청
  // socket.on('GET/BOARD/LIST', function (posts) {
  //   console.log('게시판 1 목록: ', posts)
  // });

  

</script>

